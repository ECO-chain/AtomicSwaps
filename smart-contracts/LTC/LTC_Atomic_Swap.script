OP_IF
	OP_SIZE secretSize OP_EQUALVERIFY
	OP_SHA256 secretHash OP_EQUALVERIFY
	OP_DUP OP_HASH160 receiverPublicKeyHash
OP_ELSE
	block OP_CHECKLOCKTIMEVERIFY OP_DROP
	OP_DUP OP_HASH160 myPublicKeyHash
OP_ENDIF
OP_EQUALVERIFY
OP_CHECKSIG